<div class="createNoteContainer">
  <div fxLayout="column" *ngIf="collaboratorClicked">
    <div class="titleAndPinRow" style="width: inherit;" fxLayoutAlign="center center">
      <div class="createTitleDiv" fxLayout="row" [fxHide]="showTakeANoteAndAction" fxFlex>
        <textarea class="createTitle" cdkTextareaAutosize [(ngModel)]="createNoteTitle" cdkAutosizeMinRows="1"
          placeholder="Title"></textarea>
      </div>
      <div class="pinUnpinNote" *ngIf="!showTakeANoteAndAction" fxLayoutAlign="center center">
        <svg xmlns="http://www.w3.org/2000/svg" (click)="userPinnedTheNote(true)" *ngIf="!isPinned" class="pinUnpin"
          width="24" height="24" viewBox="0 0 24 24">
          <path fill="none" d="M0 0h24v24H0z" />
          <path fill="#000"
            d="M17 4v7l2 3v2h-6v5l-1 1-1-1v-5H5v-2l2-3V4c0-1.1.9-2 2-2h6c1.11 0 2 .89 2 2zM9 4v7.75L7.5 14h9L15 11.75V4H9z" />
        </svg>

        <svg xmlns="http://www.w3.org/2000/svg" (click)="userPinnedTheNote(false)" *ngIf="isPinned" class="pinUnpin"
          width="24" height="24" viewBox="0 0 24 24">
          <path fill="none" d="M0 0h24v24H0z" />
          <path fill="#000" d="M17 4a2 2 0 0 0-2-2H9c-1.1 0-2 .9-2 2v7l-2 3v2h6v5l1 1 1-1v-5h6v-2l-2-3V4z" />
        </svg>
      </div>
    </div>
    <div class="takeANoteDiv" fxLayout="row" fxLayoutAlign="center center">
      <textarea class="createDescription" (click)="NoteClick()" [(ngModel)]="createNoteDesciption" cdkTextareaAutosize
        cdkAutosizeMinRows="1" placeholder="Take a note..."></textarea>
      <div class="noteWithImages" *ngIf="hideNoteWithImagesDiv" fxLayout="row" fxLayoutAlign="center center">
        <button mat-icon-button>
          <i class="material-icons-outlined">assignment_turned_in</i>
        </button>
        <button mat-icon-button>
          <i class="material-icons-outlined">photo</i>
        </button>
      </div>
    </div>
    <div class="collaboratorListDiv" fxLayout="row" fxLayoutGap="5px"
    *ngIf="(collaboratorUserList == null || collaboratorUserList.length <= 0) ? false : true">
      <div class="collaborator" *ngFor="let userCollaborator of collaboratorUserList">
        <div class="collaboratorButton" fxLayoutAlign="center center">
          <button mat-fab class="createNoteCollab" [title]="userCollaborator.emailId" fxLayoutAlign="center center"
            color="warn">{{ userCollaborator }}</button>
        </div>
      </div>
    </div>
  </div>
  <div class="NoteActionContainer" *ngIf="collaboratorClicked" fxLayout="row" [fxHide]="showTakeANoteAndAction"
    fxLayoutAlign="space-between center">
    <div class="NoteAction" fxLayout="row" fxLayoutAlign="center center">
      <div class="iconActionDiv" fxLayoutAlign="center center">
        <button mat-icon-button title="Remind Me">
          <i class="material-icons-outlined">notification_important</i>
        </button>
      </div>
      <div class="iconActionDiv" fxLayoutAlign="center center">
        <button mat-icon-button (click)="collaboratorClickedByUser()" title="Collaborator">
          <i class="material-icons-outlined">person_add</i>
        </button>
      </div>
      <div class="iconActionDiv" fxLayoutAlign="center center">
        <button mat-icon-button title="Change Color">
          <i class="material-icons-outlined">color_lens</i>
        </button>
      </div>
      <div class="iconActionDiv" fxLayoutAlign="center center">
        <button mat-icon-button>
          <i class="material-icons-outlined">image</i>
        </button>
      </div>
      <div class="iconActionDiv" fxLayoutAlign="center center">
        <button mat-icon-button (click)="userArchiveTheNote(true)" *ngIf="!isArchive" title="Archive Note">
          <i class="material-icons-outlined">archive</i>
        </button>
        <button mat-icon-button (click)="userArchiveTheNote(false)" *ngIf="isArchive" title="Unarchive Note">
          <i class="material-icons-outlined">unarchive</i>
        </button>
      </div>
      <div class="iconActionDiv" fxLayoutAlign="center center">
        <button mat-icon-button [matMenuTriggerFor]="moreMenu">
          <i class="material-icons-outlined">more_vert</i>
        </button>
        <mat-menu #moreMenu="matMenu" xPosition="after" yPosition="below">
          <!-- <button mat-menu-item
            *ngIf="(createNoteTitle != null || createNoteDesciption != null) ? true : false">Delete note</button> -->
          <button mat-menu-item>Add label</button>
          <!-- <button mat-menu-item>Change labels</button> -->
          <!-- <button mat-menu-item>Make a copy</button> -->
        </mat-menu>
      </div>
    </div>
    <div class="closeButton">
      <button mat-button type="button" (click)="closeButtonClick()">Close</button>
    </div>
  </div>

  <div class="collaboratorContainer" *ngIf="!collaboratorClicked">
    <div class="collaboratorTitle">
      Collaborators
    </div>
    <div class="collaboratorUserContainer">
      <div class="collaboratorUserField">
        <div class="collaboratorUserFontSize">
          <div class="CollaboratorCurrentUser" fxLayout="column" fxLayoutGap="5px">
            <div fxLayout="row">
              <img class="collaboratorUserIcon" src="../../../assets/profilePic.png" alt="user Icon">
              <div class="collaboratorCurrentUserNameEmail" fxLayout="column" fxLayoutAlign="center">
                <div>
                  <span class="collaboratorUserName">{{ userName }}</span>
                  <span class="collaboratorOwnerSpan">(Owner)</span>
                </div>
                <span class="collaboratorEmail">{{ userEmail }}</span>
              </div>
            </div>
            <div *ngIf="(tempCollaboratorUserList == null || tempCollaboratorUserList.length <= 0) ? false : true">
              <div fxLayout="row" *ngFor="let userCollaborator of tempCollaboratorUserList" fxLayoutAlign="center center">
                <img class="collaboratorUserIcon" src="../../../assets/profilePic.png" alt="user Icon">
                <span class="collaboratoredUser">{{ userCollaborator }}</span>
                <button mat-icon-button class="collaboratorDoneButton" [title]="Delete" (click)="deleteCollaboratedUser(userCollaborator)" >
                  <i class="material-icons-outlined" style="vertical-align: top;">close</i>
                </button>
              </div>
            </div>
          </div>
          <div class="collaboratorAddUser">
            <i fxLayoutAlign="center center"
              class="material-icons-outlined collaboratorUserIcon newUserIcon">person_add</i>
            <input class="collaboratorInputField" #collab [(ngModel)]="newCollaborator" type="text"
              placeholder="Person or email to share with">
            <button mat-icon-button class="collaboratorDoneButton" (click)="addCollaboratorToArray()"
              *ngIf="(newCollaborator != null && newCollaborator != '') ? true : false">
              <i class="material-icons-outlined" style="vertical-align: top;">done</i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="collaboratorToolbar" *ngIf="!collaboratorClicked">
    <button class="cancelCollaboratorButton" mat-button type="button"
      (click)="cancelCollaboratorButtonClick()">Cancel</button>
    <button class="saveCollaboratorButton" mat-button type="button"
      (click)="saveCollaboratorButtonClick()">Save</button>
  </div>


</div>